<!DOCTYPE html>
<html>
<head>
  <title>Transactions</title>
  <link rel="stylesheet" href="style.css">

</head>
<body>

<table data-test-id="transactions-table">
  <thead>
    <tr>
      <th>Payment ID</th>
      <th>Order ID</th>
      <th>Amount</th>
      <th>Method</th>
      <th>Status</th>
      <th>Created</th>
    </tr>
  </thead>
  <tbody id="rows"></tbody>
</table>

<script>
const API = "http://localhost:8000";

fetch(`${API}/api/v1/payments`, {
  headers: {
    "X-Api-Key": "key_test_abc123",
    "X-Api-Secret": "secret_test_xyz789"
  }
})
.then(res => res.json())
.then(payments => {
  const tbody = document.getElementById("rows");

  payments.forEach(p => {
    const tr = document.createElement("tr");
    tr.setAttribute("data-test-id", "transaction-row");
    tr.setAttribute("data-payment-id", p.id);

    tr.innerHTML = `
      <td data-test-id="payment-id">${p.id}</td>
      <td data-test-id="order-id">${p.order_id}</td>
      <td data-test-id="amount">${p.amount}</td>
      <td data-test-id="method">${p.method}</td>
      <td data-test-id="status">${p.status}</td>
      <td data-test-id="created-at">${p.created_at}</td>
    `;

    tbody.appendChild(tr);
  });
});
</script>

</body>
</html>
